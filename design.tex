%=========================================================================
% (c) 2011, 2012 Josef Lusticky

\chapter{Design and analysis}
For implementation of reasonably useful NTP client,
operating system must be able to set, get
and eventually adjust the system time in a similar fashion as
described in section~\ref{sec:system-keeping-and-providing} and~\ref{sec:system-discipline}.
Though not mandatory, adjusting time is important function,
if the time shall be always a monotonically increasing function.
Apart from that, communicating abilities over UDP are also required.

For developing and testing Contiki NTP client,
the AVR Raven platform with 8-bit ATmega1284P CPU~\cite{avr-datasheet} was used.
This platform features IEEE~802.15.4 (Low-Rate Wireless Personal Area Networks) link layer support.
Together with an adaptation layer called 6LoWPAN (IPv6 over Low power Wireless Personal Area Networks)
AVR Raven is able to communicate over IPv6.

How to get a working setup with Contiki on this platform is described in
the document files on the CD enclosed to this thesis.
The CD content hierarchy is listed in appendix~\ref{app:cd-content}.

%Older x86 processors used an interrupt mechanism to switch from
%user-space to kernel-space, but new x86 processors provide instructions
%that optimise this transition (using sysenter and sysexit instructions)~\cite{ibm-linux-system-calls}.
%... This is not in Contiki, as operating systems targeted at embbeded systems produce only 1 binary file. CITATION

\input{design/network.tex}

%\input{design/interface.tex}

