%=========================================================================
% (c) 2011, 2012 Josef Lusticky

\chapter{Design}
The analysis showed, that just an implementation of the
NTP client application is, because of missing calls in the time interface, not sufficient.
Analysis further described the necessary components of the NTP client.

The uIP stack, described in section~\ref{sec:contiki-uip}, provides a feature-rich
communication interface for the NTP client application.
The communication interface is therefore not an issue.
However, the time interface must be extended with new calls,
that must be further implemented in the clock library.
Figure~\ref{fig:design-overview} shows the overview of the NTP client on AVR Raven.

\begin{figure}[H]
  \centering
  \includegraphics[width=13cm,keepaspectratio]{fig/design.png}
  \caption{NTP client design overview}
  \label{fig:design-overview}
\end{figure}

\input{design/interface.tex}

\input{design/clock.tex}

\input{design/client.tex}
