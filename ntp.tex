%=========================================================================
% (c) 2011, 2012 Josef Lusticky

\chapter{Network Time Protocol}
The Network Time Protocol provides a mechanism for synchronising systems' clocks over a variable-latency data network.
NTP was introduced and is still developed by
David Mills at University of Delaware in Newark, United States of America~\cite{ntp-history}.
NTP is arguably the longest running, continuously operating,
ubiquitously available protocol in the Internet~\cite{ntp-overview}.
Despite being one of the oldest surviving protocols on the Internet, it is not old-fashioned at all.
NTP version 4, described in RFC~5905~\cite{rfc5905}, updates the older NTPv3 to accommodate NTP to IPv6.
Version 4 also includes improvements in
mitigation and clock discipline algorithms that extend
potential accuracy to the tens of microseconds with modern
workstations and fast LANs~\cite{rfc5905}.
NTPv4 corrects some
errors in NTPv3 design and includes an optional extension mechanism
that can be used for adding more capabilities to NTP, e.g. the
Autokey security protocol described in RFC~5906
for authenticating servers to clients.

The Simple Network Time Protocol is a simplified NTP implementation, lacking complex
synchronisation algorithms used by NTP~\cite{rfc5905}.
SNTP is also described in RFC 5905.
The packets of SNTP have the same structure and content as packets of NTP~\cite{rfc5905}.
From observing the network communication, one can not tell, whether the client
is a full blown NTP implementation or just SNTP.
SNTP is a simplified sub-set of algorithms used by the NTP protocol,
making the client implementation not only easier, but also suitable for
resource constrained systems such as embedded systems.
Because NTP and SNTP servers and clients are
completely interoperable and can be intermixed in NTP subnets~\cite{rfc5905},
this thesis refers to an SNTP client for Contiki OS as NTP client.


\input{ntp/topology.tex}

\input{ntp/time.tex}

\input{ntp/network.tex}

\input{ntp/algorithms.tex}
